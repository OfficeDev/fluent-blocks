import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'

import { contextArgTypes } from '../../lib'
import { fake, seed } from '../../lib/fake'
import storybookIconSpriteUrl from '../../lib/storybookIconSpriteUrl'
import { Avatar } from './StorybookAvatar'

export const AvatarTemplate = (props) => (
  <Avatar {...props} iconSpriteUrl={storybookIconSpriteUrl} />
)

<Meta
  title="Facets/Avatars"
  component={Avatar}
  parameters={{
    viewMode: 'docs',
  }}
  argTypes={{
    ...contextArgTypes,
  }}
/>

# Avatars

In Fluent Blocks, Avatars are a type of Inline component and are composed
alongside other inline content.

Avatars accept `image` and `icon`, and will prioritize them as follows:

1. If `image` is specified, it will be displayed instead of `icon` or initials based on `label`.
1. If `icon` is specified, it will be displayed instead of initials based on `label`.
1. Otherwise, initials based on `label` will be displayed.

<Canvas withSource="none">
  <Story
    name="Avatars"
    args={{
      themeName: 'light',
      accentScheme: 'teams',
      label: fake('{{name.firstName}} {{name.lastName}}'),
      color: 'peach',
      presenceBadge: { status: 'away' },
      icon: { icon: 'person' },
    }}
  >
    {seed(1234) || AvatarTemplate.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Avatars" />
